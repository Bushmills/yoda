provides: newprompt
needs: bracket$
loaded lest  done

: newprompt  ( -- )
   error if 
      warm
      1 return
   then

   compiling if
      "|   " type$
      0 return
   then

   " ok" type$

   #unresolved if resolve then
   #unresolved ?dup if
      space
      convert "()" bracket$ type$
   then

   depth ?dup if
      space
      ".........>" left$ type$
   then

   cr
;

' newprompt is prompt
